<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LiminalLoop ❍</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    @font-face {
      src: url("https://fonts.cdnfonts.com/css/pp-neue-montreal") format("woff2");
      font-family: "PP Neue Montreal", sans-serif;
      font-weight: 400;
    }

    html, body {
      height: 100%;
      overflow: hidden;
    }
    body {
      font-family: "PP Neue Montreal", sans-serif;
      font-weight: 700;
      font-size: 18px;
      text-rendering: optimizeLegibility;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      background-color: #1a1917;
      text-transform: uppercase;
      letter-spacing: -0.03em;
      color: #f8f5f2;
      position: relative;
      margin: 0;
      padding: 0;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* Animated noise effect */
    body::before {
      content: "";
      position: fixed;
      top: -50%; left: -50%;
      width: 200%; height: 200%;
      background: transparent url("http://assets.iceable.com/img/noise-transparent.png") repeat 0 0;
      background-size: 300px 300px;
      -webkit-animation: noise-animation 0.3s steps(5) infinite;
      animation: noise-animation 0.3s steps(5) infinite;
      opacity: 0.9;
      will-change: transform;
      z-index: 100;
      pointer-events: none;
    }
    @keyframes noise-animation {
      0% { transform: translate(0, 0); }
      10% { transform: translate(-2%, -3%); }
      20% { transform: translate(-4%, 2%); }
      30% { transform: translate(2%, -4%); }
      40% { transform: translate(-2%, 5%); }
      50% { transform: translate(-4%, 2%); }
      60% { transform: translate(3%, 0); }
      70% { transform: translate(0, 3%); }
      80% { transform: translate(-3%, 0); }
      90% { transform: translate(2%, 2%); }
      100% { transform: translate(1%, 0); }
    }

    /* Container for centering */
    .container {
      width: 100%;
      max-width: 1000px;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10;
      position: relative;
    }
      
    /* Full-screen background image */
    #background-image-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
      overflow: hidden;
    }
    #background-image {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      -o-object-fit: cover;
      object-fit: cover;
      transform: scale(1.2);
      transition: transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      opacity: 0;
    }

    /* Works Container */
    .works-container {
      width: 100%;
      position: relative;
      z-index: 10;
      max-height: 80vh;
      overflow-y: auto;
      padding: 20px;
      scrollbar-width: none; /* Firefox */
      -ms-overflow-style: none; /* IE and Edge */
    }
    .works-container::-webkit-scrollbar {
      display: none;
    }

    /* Work Item Styles */
    .work-item {
      position: relative;
      display: flex;
      justify-content: space-between;
      padding: 0.7rem 0;
      border-bottom: 1px solid rgba(248, 245, 242, 0.1);
      cursor: pointer;
    }

    .work-title, .work-year {
      font-size: 1.8rem;
      position: relative;
      z-index: 2;
      mix-blend-mode: exclusion;
    }

    .work-item::before {
      content: "";
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 0;
      background-color: #f8f5f2;
      z-index: 1;
      pointer-events: none;
      transition: height 0.2s cubic-bezier(0.445, 0.05, 0.55, 0.95) 0s;
    }
    .work-item:hover::before {
      height: 100%;
    }
    .work-item:not(:hover)::before {
      transition-duration: 0.8s;
    }

    @media (max-width: 768px) {
      .work-title, .work-year {
        font-size: 1.4rem;
      }
    }
    @media (max-width: 480px) {
      .work-item {
        flex-direction: column;
        gap: 0.5rem;
      }
    }
  </style>
</head>
<body>
  <div id="background-image-container">
    <img id="background-image" crossorigin="anonymous" alt="" />
  </div>

  <div class="container">
    <div class="works-container">
      <!-- Works will be rendered here by JavaScript -->
    </div>
  </div>

  <script>
    // Work data w/ titles
    const works = [
      { id: 1, title: "Disc Avenue", year: "7112", image: "https://media1.giphy.com/media/l3vR4TDjsYQuSiA5G/giphy.gif" },
      { id: 2, title: "Electric Heights", year: "2323", image: "https://cdn.jsdelivr.net/gh/dduyg/LiminalLoop@shelf/06/HalHal2.gif" },
      { id: 3, title: "16-Bit Crescent", year: "3199", image: "https://media2.giphy.com/media/3o6gE2n49n4REAqlFe/giphy.gif" },
      { id: 4, title: "Nostalgia Drive", year: "50.00", image: "https://cdn.jsdelivr.net/gh/dduyg/LiminalLoop@shelf/06/ENERGY_CH%E2%88%86MBER.gif" },
      { id: 5, title: "Dusk Terrace", year: "4477", image: "https://cdn.jsdelivr.net/gh/dduyg/LiminalLoop@shelf/06/renklensinGecelerimiz.gif" },
      { id: 6, title: "Please Don't", year: "298X", image: "https://cdn.jsdelivr.net/gh/dduyg/LiminalLoop@shelf/06/stackingThoughts.jpg" },
      { id: 7, title: "cordate", year: "5.9-9-9", image: "https://cdn.jsdelivr.net/gh/dduyg/LiminalLoop@shelf/06/NostalgiaDrive.png" },
      { id: 8, title: "Gemini Zone-α", year: "6004", image: "https://cdn.jsdelivr.net/gh/dduyg/LiminalLoop@shelf/06/Loopbryce3d.gif" },
      { id: 9, title: "substation", year: "27.25", image: "https://cdn.jsdelivr.net/gh/dduyg/LiminalLoop@shelf/06/withquestionslikethese.gif" },
      { id: 10, title: "Holographic Tears", year: "3325", image: "https://media2.giphy.com/media/NPomUS7RsW3AINSHZj/giphy.gif" }
    ];

    document.addEventListener("DOMContentLoaded", function () {
      const worksContainer = document.querySelector(".works-container");
      const backgroundImage = document.getElementById("background-image");

      // Render works
      renderWorks(worksContainer);

      // Initialize animations
      initialAnimation();

      // Preload images
      preloadImages();

      // Add hover events to work items
      setupHoverEvents(backgroundImage, worksContainer);
    });

    // Render work items
    function renderWorks(container) {
      works.forEach((work) => {
        const workItem = document.createElement("div");
        workItem.classList.add("work-item");
        workItem.dataset.id = work.id;
        workItem.dataset.image = work.image;

        workItem.innerHTML = `
          <div class="work-title">${work.title}</div>
          <div class="work-year">${work.year}</div>
        `;

        container.appendChild(workItem);
      });
    }

    // Initial animation for work items
    function initialAnimation() {
      const workItems = document.querySelectorAll(".work-item");

      workItems.forEach((item, index) => {
        item.style.opacity = "0";
        item.style.transform = "translateY(20px)";

        setTimeout(() => {
          item.style.transition = "opacity 0.8s ease, transform 0.8s ease";
          item.style.opacity = "1";
          item.style.transform = "translateY(0)";
        }, index * 60);
      });
    }

    // Setup hover events for work items
    function setupHoverEvents(backgroundImage, worksContainer) {
      const workItems = document.querySelectorAll(".work-item");
      let currentImage = null;
      let zoomTimeout = null;

      // Preload all images
      const preloadedImages = {};
      works.forEach((work) => {
        const img = new Image();
        img.crossOrigin = "anonymous";
        img.src = work.image;
        preloadedImages[work.id] = img;
      });

      workItems.forEach((item) => {
        item.addEventListener("mouseenter", function () {
          const imageUrl = this.dataset.image;

          if (zoomTimeout) clearTimeout(zoomTimeout);

          backgroundImage.style.transition = "none";
          backgroundImage.style.transform = "scale(1.2)";
          backgroundImage.src = imageUrl;
          backgroundImage.style.opacity = "1";

          requestAnimationFrame(() => {
            requestAnimationFrame(() => {
              backgroundImage.style.transition = "transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94)";
              backgroundImage.style.transform = "scale(1.0)";
            });
          });

          currentImage = imageUrl;
        });
      });

      worksContainer.addEventListener("mouseleave", function () {
        backgroundImage.style.opacity = "0";
        currentImage = null;
      });
    }

    // Preload images
    function preloadImages() {
      works.forEach((work) => {
        const img = new Image();
        img.crossOrigin = "anonymous";
        img.src = work.image;
      });
    }
  </script>
</body>
</html>
